<ng-container
	*ngIf="{
		services: services$ | async,
		masters: masters$ | async,
		dates: dates$ | async,
		btnConf: calendarBtnConf$ | async,
		client: client$ | async,
		timesheets: timesheets$ | async,
		isValid: isClientValid$ | async,
		stepsQuantity: stepsQuantity$ | async,
		updatedPhone: updatedPhone$ | async,
		currentStep: currentStep$ | async
	} as data">
	<div class="wizard__container">
		<app-stepper
			[currentStep]="data.currentStep ?? WizardStepperEnum.SERVICE_CHOICE"
			[stepsQuantity]="data.stepsQuantity"></app-stepper>
		<div class="button__container">
			<button (click)="onBtnClick(false)" mat-button color="primary">{{
				backBtnLabels
			}}</button>
			<button
				mat-button
				color="primary"
				(click)="onBtnClick(true)"
				[disabled]="!data.isValid"
				>{{ nextBtnLabel }}
			</button>
		</div>
		<div [ngSwitch]="data.currentStep ?? WizardStepperEnum.SERVICE_CHOICE">
			<app-wizard-service-choice-step
				*ngSwitchCase="WizardStepperEnum.SERVICE_CHOICE"
				(serviceChange)="onServiceChange($event)"
				[services]="data.services"
				[client]="data.client">
			</app-wizard-service-choice-step>
			<app-wizard-date-choice-step
				*ngSwitchCase="WizardStepperEnum.DATE_CHOICE"
				(onWeekChange)="onWeekChange($event)"
				(onMasterChange)="onMasterChange($event)"
				(onDayChange)="onDayChange($event)"
				(onMonthChange)="onMonthChange($event)"
				(onTimeChange)="onTimeChange($event)"
				[months]="months"
				[timesheets]="data.timesheets"
				[btnConf]="data.btnConf"
				[masters]="data.masters"
				[dates]="data.dates"
				[client]="data.client"
				[openedTimepicker]="openedTimepicker"
				[selectedDay]="selectedDay">
			</app-wizard-date-choice-step>
			<app-wizard-confirm-step
				*ngSwitchCase="WizardStepperEnum.CONFIRM_PAGE"
				[client]="data.client"
				[updatedPhone]="data.updatedPhone"
				(onFormChange)="onFormChange($event)"
				(onFormStatusChange)="onFormStatusChange($event)">
			</app-wizard-confirm-step>
		</div>
	</div>
</ng-container>
